<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Malla Curricular - Ingenier√≠a de Sistemas UFPS</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: Arial, sans-serif;
      background: var(--bg-color);
      color: var(--text-color);
      margin: 0;
      padding: 20px;
    }
    :root {
      --bg-color: #f0f2f5;
      --text-color: #000;
      --box-bg: #ffffff;
      --matriculada: #fff3cd;
      --aprobada: #d4edda;
      --bloqueada: #e2e3e5;
    }
    body.dark {
      --bg-color: #1e1e1e;
      --text-color: #fff;
      --box-bg: #2e2e2e;
      --matriculada: #776f2d;
      --aprobada: #305a3a;
      --bloqueada: #555;
    }
    h1 { text-align: center; }
    #creditos, #botones {
      font-size: 1.2em;
      margin: 10px 0;
      text-align: center;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      grid-template-rows: repeat(2, auto);
      gap: 15px;
      overflow-x: auto;
}
    .semestre {
      background-color: var(--box-bg);
      border: 1px solid #ccc;
      border-radius: 12px;
      padding: 11px;
    } <!-- tama√±o del titulo de cada semestre-->
    .semestre h2 { 
      font-size: 14px;
      text-align: center;
    }
    .materia {
      background-color: var(--box-bg);
      border: 1px solid #aaa;
      border-radius: 6px;
      margin: 5px 0;
      padding: 10px;
      font-size: 12px;
      cursor: pointer;
      transition: all 0.3s;
    }
    .materia.matriculada { background-color: var(--matriculada); }
    .materia.aprobada {
      background-color: var(--aprobada);
      text-decoration: line-through;
    }
    .materia.bloqueada {
      background-color: var(--bloqueada);
      cursor: not-allowed;
      opacity: 0.7;
    }
    button {
      margin: 0 5px;
      padding: 5px 10px;
      font-size: 1em;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Malla Curricular - Ingenier√≠a de Sistemas UFPS</h1>
  <div id="creditos">Cr√©ditos acumulados: <span id="creditosContador">0</span></div>
  <div id="botones">
    <button onclick="reiniciarProgreso()">üîÑ Reiniciar</button>
    <button onclick="toggleModoOscuro()">üåô/‚òÄÔ∏è Modo Oscuro</button>
  </div>
  <div class="grid" id="malla"></div>

  <script>
    const materias = [
      { nombre: "C√°lculo Diferencial", creditos: 4, semestre: 1 },
      { nombre: "Fundamentos de Programaci√≥n", creditos: 3, semestre: 1 },
      { nombre: "Introducci√≥n a la Ingenier√≠a de Sistemas", creditos: 3, semestre: 1 },
      { nombre: "Comunicaci√≥n I", creditos: 2, semestre: 1 },
      { nombre: "Introducci√≥n a la Vida Universitaria", creditos: 1, semestre: 1 },
      { nombre: "Constituci√≥n y Civismo", creditos: 2, semestre: 1 },

      { nombre: "C√°lculo Integral", creditos: 4, semestre: 2, requiere: ["C√°lculo Diferencial"] },
      { nombre: "Programaci√≥n Orientada a Objetos I", creditos: 3, semestre: 2, requiere: ["Fundamentos de Programaci√≥n"] },
      { nombre: "√Ålgebra Lineal", creditos: 3, semestre: 2, creditosMin: 8 },
      { nombre: "Comunicaci√≥n II", creditos: 2, semestre: 2, requiere: ["Comunicaci√≥n I"] },
      { nombre: "F√≠sica Mec√°nica", creditos: 4, semestre: 2, requiere: ["C√°lculo Diferencial"] },

      { nombre: "C√°lculo Vectorial", creditos: 4, semestre: 3, requiere: ["C√°lculo Integral"] },
      { nombre: "Estructura de Datos", creditos: 3, semestre: 3, requiere: ["Programaci√≥n Orientada a Objetos I"] },
      { nombre: "Matem√°ticas Discretas", creditos: 3, semestre: 3, creditosMin: 22, requiere: ["√Ålgebra Lineal"] },
      { nombre: "F√≠sica Electromagn√©tica", creditos: 4, semestre: 3, requiere: ["F√≠sica Mec√°nica"] },
      { nombre: "Electiva Socio-Human√≠stica I", creditos: 2, semestre: 3, creditosMin: 25 },
      { nombre: "Seminario Integrador I", creditos: 1, semestre: 3, creditosMin: 25 ,requiere: ["C√°lculo Diferencial"] },

      { nombre: "Base de Datos", creditos: 3, semestre: 4, requiere: ["Estructura de Datos"] },
      { nombre: "Programaci√≥n Orientada a Objetos II", creditos: 3, semestre: 4, requiere: ["Estructura de Datos"] },
      { nombre: "Probabilidad y Estad√≠stica", creditos: 3, semestre: 4, requiere: ["Matem√°ticas Discretas"] },
      { nombre: "Teor√≠a de la Computaci√≥n", creditos: 3, semestre: 4, requiere: ["Estructura de Datos"] },
      { nombre: "Ondas y Particulas", creditos: 3,semestre: 4, requiere:["F√≠sica Electromagn√©tica"] },
      { nombre: "Electiva Socio-Human√≠stica II", creditos: 2, semestre: 4,requiere:["Electiva Socio-Human√≠stica I"] },

      { nombre: "Ecuaciones Diferenciales", creditos: 4, semestre: 5, requiere: ["C√°lculo Vectorial"] },
      { nombre: "Investigaci√≥n de Operaciones", creditos: 3, semestre: 5, requiere: ["Probabilidad y Estad√≠stica"] },
      { nombre: "Programaci√≥n Web", creditos: 3, semestre: 5, requiere: ["Base de Datos"] },
      { nombre: "An√°lisis y Algoritmos", creditos: 3, semestre: 5, requiere: ["Programaci√≥n Orientada a Objetos II"] },
      { nombre: "Arquitectura de Computadores", creditos: 3, semestre: 5, requiere:["Programaci√≥n Orientada a Objetos II"]},

      { nombre: "An√°lisis Num√©rico", creditos: 3, semestre: 6, requiere: ["Ecuaciones Diferenciales"] },
      { nombre: "An√°lisis y Dise√±o de Sistemas", creditos: 4, semestre: 6, requiere: ["Programaci√≥n Web"] },
      { nombre: "Sistemas Operativos", creditos: 3, semestre: 6, requiere:["Arquitectura de Computadores"] },
      { nombre: "Electr√≥nica", creditos: 3, semestre: 6, requiere:["Ondas y Particulas"] },
      { nombre: "Electiva Profesional I", creditos: 3, semestre: 6, creditosMin: 81 },

      { nombre: "Planeaci√≥n Estrat√©gica de Sistemas de Informaci√≥n", creditos: 3, semestre: 7, requiere: ["An√°lisis y Dise√±o de Sistemas"] },
      { nombre: "Ingenier√≠a del Software", creditos: 4, semestre: 7,requiere:["An√°lisis y Dise√±o de Sistemas"] },
      { nombre: "Arquitectura de Software", creditos: 3, semestre: 7,requiere:["An√°lisis y Dise√±o de Sistemas"] },
      { nombre: "Seminario de Investigaci√≥n I", creditos: 2, semestre: 7, creditosMin: 90 },
      { nombre: "Seminario Integrador II", creditos: 2, semestre: 7,requiere:["Seminario Integrador I"] },
      { nombre: "Electiva Profesional II", creditos: 3, semestre: 7,requiere:["Electiva Profesional I"] },

      { nombre: "Gesti√≥n de TIC", creditos: 2, semestre: 8,requiere:["Planeaci√≥n Estrat√©gica de Sistemas de Informaci√≥n"] },
      { nombre: "Formulaci√≥n y Evaluaci√≥n de Proyectos de Sistemas", creditos: 3, semestre: 8,requiere:["Ingenier√≠a del Software"] },
      { nombre: "√âtica Profesional", creditos: 2, semestre: 8,creditosMin:100 },
      { nombre: "Teor√≠a General de las Comunicaciones", creditos: 3, semestre: 8, requiere: ["Sistemas Operativos"] },
      { nombre: "Seminario de Investigaci√≥n II", creditos: 2, semestre: 8,requiere:["Seminario de Investigaci√≥n I"] },
      { nombre: "Electiva Profesional III", creditos: 3, semestre: 8,requiere:["Electiva Profesional II"] },
      { nombre: "Electiva Socio-Human√≠stica III", creditos: 2, semestre: 8,requiere:["Electiva Socio-Human√≠stica II"] },

      { nombre: "Administraci√≥n de Proyectos Inform√°ticos", creditos: 3, semestre: 9,requiere:["Formulaci√≥n y Evaluaci√≥n de Proyectos de Sistemas"]},
      { nombre: "Pr√°cticas de Sistemas", creditos: 6, semestre: 9, creditosMin: 130 },
      { nombre: "Redes de Computadores", creditos: 3, semestre: 9,requiere:["Teor√≠a General de las Comunicaciones"]},
      { nombre: "Seminario de Investigaci√≥n III", creditos: 2, semestre: 9,requiere:["Seminario de Investigaci√≥n II"] },
      { nombre: "Seminario Integrador III", creditos: 2, semestre: 9,requiere:["Seminario Integrador II"] },

      { nombre: "Electiva Profesional IV", creditos: 3, semestre: 10,requiere:["Electiva Profesional III"] },
      { nombre: "Electiva Profesional V", creditos: 3, semestre: 10,requiere:["Electiva Profesional III"]},
      { nombre: "Electiva Profesional VI", creditos: 3, semestre: 10,requiere:["Electiva Profesional III"] },
      { nombre: "Proyecto de Grado", creditos: 8, semestre: 10, creditosMin: 147 }
    ];

    let creditosTotales = 0;
    const malla = document.getElementById("malla");
    const contador = document.getElementById("creditosContador");

    function cargarEstado() {
      const estado = localStorage.getItem("estadoMaterias");
      return estado ? JSON.parse(estado) : {};
    }

    function guardarEstado(estado) {
      localStorage.setItem("estadoMaterias", JSON.stringify(estado));
    }

    function actualizarContador(estado) {
      creditosTotales = materias.reduce((sum, mat) => {
        return estado[mat.nombre] === "aprobada" ? sum + mat.creditos : sum;
      }, 0);
      contador.textContent = creditosTotales;
    }

    function puedeMatricular(materia, estado) {
      if (materia.creditosMin && creditosTotales < materia.creditosMin) return false;
      if (materia.requiere) {
        return materia.requiere.every(req => estado[req] === "aprobada");
      }
      return true;
    }

    function crearMalla() {
  const estado = cargarEstado();
  actualizarContador(estado);
  malla.innerHTML = "";

  // Crear dos filas de semestres
  for (let fila = 0; fila < 2; fila++) {
    for (let semestre = 1 + fila * 5; semestre <= 5 + fila * 5; semestre++) {
      const divSem = document.createElement("div");
      divSem.className = "semestre";
      const h2 = document.createElement("h2");
      h2.textContent = `Semestre ${semestre}`;
      divSem.appendChild(h2);

      materias.filter(m => m.semestre === semestre).forEach(materia => {
        const div = document.createElement("div");
        div.className = "materia";
        div.textContent = `${materia.nombre} (${materia.creditos})`;

        let estadoMateria = estado[materia.nombre] || null;
        if (!puedeMatricular(materia, estado)) {
          div.classList.add("bloqueada");
        } else if (estadoMateria === "matriculada") {
          div.classList.add("matriculada");
        } else if (estadoMateria === "aprobada") {
          div.classList.add("aprobada");
        }

        div.addEventListener("click", () => {
          if (!puedeMatricular(materia, estado)) return;

          if (!estado[materia.nombre]) {
            estado[materia.nombre] = "matriculada";
            div.classList.add("matriculada");
          } else if (estado[materia.nombre] === "matriculada") {
            estado[materia.nombre] = "aprobada";
            div.classList.remove("matriculada");
            div.classList.add("aprobada");
          } else {
            delete estado[materia.nombre];
            div.classList.remove("aprobada", "matriculada");
          }

          actualizarContador(estado);
          guardarEstado(estado);
          crearMalla();
        });

        divSem.appendChild(div);
      });

      malla.appendChild(divSem);
    }
  }
}

    function reiniciarProgreso() {
      localStorage.removeItem("estadoMaterias");
      crearMalla();
    }

    function toggleModoOscuro() {
      document.body.classList.toggle("dark");
    }

    crearMalla();
  </script>
</body>
</html>
